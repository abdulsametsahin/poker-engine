"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[847],{298:(e,t,n)=>{n.d(t,{A:()=>_});var a=n(45),r=n(9379),s=n(5043),o=n(8387),i=n(3129),l=n(6061),c=n(1807),d=n(883),u=n(2335),p=n(5227),m=n(9049),h=n(6167),x=n(1834),A=n(579);const g=["component","direction","spacing","divider","children","className","useFlexGap"],v=(0,m.A)(),f=(0,d.A)("div",{name:"MuiStack",slot:"Root"});function y(e){return(0,u.A)({props:e,name:"MuiStack",defaultTheme:v})}function j(e,t){const n=s.Children.toArray(e).filter(Boolean);return n.reduce((e,a,r)=>(e.push(a),r<n.length-1&&e.push(s.cloneElement(t,{key:"separator-".concat(r)})),e),[])}const b=e=>{let{ownerState:t,theme:n}=e,a=(0,r.A)({display:"flex",flexDirection:"column"},(0,h.NI)({theme:n},(0,h.kW)({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=(0,x.LX)(n),r=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),s=(0,h.kW)({values:t.direction,base:r}),o=(0,h.kW)({values:t.spacing,base:r});"object"===typeof s&&Object.keys(s).forEach((e,t,n)=>{if(!s[e]){const a=t>0?s[n[t-1]]:"column";s[e]=a}});const l=(n,a)=>{return t.useFlexGap?{gap:(0,x._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((r=a?s[a]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]))]:(0,x._W)(e,n)}};var r};a=(0,i.A)(a,(0,h.NI)({theme:n},o,l))}return a=(0,h.iZ)(n.breakpoints,a),a};var S=n(8128),C=n(8301);const k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:n=y,componentName:i="MuiStack"}=e,d=t(b),u=s.forwardRef(function(e,t){const s=n(e),u=(0,p.A)(s),{component:m="div",direction:h="column",spacing:x=0,divider:v,children:f,className:y,useFlexGap:b=!1}=u,S=(0,a.A)(u,g),C={direction:h,spacing:x,useFlexGap:b},k=(0,c.A)({root:["root"]},e=>(0,l.Ay)(i,e),{});return(0,A.jsx)(d,(0,r.A)((0,r.A)({as:m,ownerState:C,ref:t,className:(0,o.A)(k.root,y)},S),{},{children:v?j(f,v):f}))});return u}({createStyledComponent:(0,S.Ay)("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>(0,C.b)({props:e,name:"MuiStack"})}),_=k},883:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(7675).Ay)()},1911:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(9379),r=n(45),s=n(5043),o=n(8387),i=n(1807),l=n(4842),c=n(8128),d=n(8301),u=n(8739),p=n(9310),m=n(579);const h=["className","id"],x=(0,c.Ay)(l.A,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),A=s.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiDialogTitle"}),{className:l,id:c}=n,A=(0,r.A)(n,h),g=n,v=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},u.t,t)})(g),{titleId:f=c}=s.useContext(p.A);return(0,m.jsx)(x,(0,a.A)({component:"h2",className:(0,o.A)(v.root,l),ownerState:g,ref:t,variant:"h6",id:null!==c&&void 0!==c?c:f},A))})},2335:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(4599);var r=n(4265);function s(e){let{props:t,name:n,defaultTheme:s,themeId:o}=e,i=(0,r.A)(s);return o&&(i=i[o]||i),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,a.A)(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t})}},5877:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(9379),r=n(45),s=n(5043),o=n(8387),i=n(1807),l=n(8128),c=n(8301),d=n(9857),u=n(6061);function p(e){return(0,u.Ay)("MuiDialogActions",e)}(0,d.A)("MuiDialogActions",["root","spacing"]);var m=n(579);const h=["className","disableSpacing"],x=(0,l.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),A=s.forwardRef(function(e,t){const n=(0,c.b)({props:e,name:"MuiDialogActions"}),{className:s,disableSpacing:l=!1}=n,d=(0,r.A)(n,h),u=(0,a.A)((0,a.A)({},n),{},{disableSpacing:l}),A=(e=>{const{classes:t,disableSpacing:n}=e,a={root:["root",!n&&"spacing"]};return(0,i.A)(a,p,t)})(u);return(0,m.jsx)(x,(0,a.A)({className:(0,o.A)(A.root,s),ownerState:u,ref:t},d))})},7421:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(9992),r=n(579);const s=(0,a.A)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},8228:(e,t,n)=>{n.d(t,{Tournaments:()=>D});var a=n(9379),r=n(5043),s=n(9806),o=n(3969),i=n(4842),l=n(298),c=n(2579),d=n(3023),u=n(1911),p=n(8776),m=n(6154),h=n(6677),x=n(9067),A=n(9922),g=n(8560),v=n(5877),f=n(9130),y=n(9992),j=n(579);const b=(0,y.A)((0,j.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var S=n(9817),C=n(7421),k=n(3216),_=n(8677),w=n(9066),W=n(7776),T=n(9723),M=n(322),z=n(7907),N=n(3593),R=n(2386),I=n(2877),P=n(3188),G=n(7764);const D=()=>{const{user:e}=(0,w.A)(),{showSuccess:t,showError:n}=(0,W.d)(),{addMessageHandler:y,removeMessageHandler:D}=(0,T.h)(),E=(0,k.Zp)(),[F,B]=(0,r.useState)([]),[H,L]=(0,r.useState)(new Set),[$,O]=(0,r.useState)(!1),[V,U]=(0,r.useState)(!0),[Z,J]=(0,r.useState)(!1),[X,Y]=(0,r.useState)({name:"",buy_in:100,starting_chips:1e3,max_players:10,min_players:2,structure:"standard",prize_structure:"top3",auto_start_delay:300}),q=(0,r.useCallback)(async()=>{try{const t=await _.kS.getTournaments(),n=Array.isArray(t.data)?t.data:[];if(B(n),e&&n.length>0){const t=new Set;await Promise.all(n.map(async n=>{try{var a;const r=await _.kS.getTournamentPlayers(n.id);(null===(a=r.data)||void 0===a?void 0:a.some(t=>t.user_id===e.id))&&t.add(n.id)}catch(r){console.error("Failed to check registration for tournament ".concat(n.id,":"),r)}})),L(t)}}catch(t){console.error("Failed to fetch tournaments:",t)}finally{U(!1)}},[e]);(0,r.useEffect)(()=>{q()},[q]),(0,r.useEffect)(()=>(y("tournament_paused",e=>{var t;const n=null===(t=e.payload)||void 0===t?void 0:t.tournament_id;n&&B(e=>e.map(e=>e.id===n?(0,a.A)((0,a.A)({},e),{},{status:"paused"}):e))}),y("tournament_resumed",e=>{var t;const n=null===(t=e.payload)||void 0===t?void 0:t.tournament_id;n&&B(e=>e.map(e=>e.id===n?(0,a.A)((0,a.A)({},e),{},{status:"in_progress"}):e))}),y("tournament_update",e=>{var t;if(null!==(t=e.payload)&&void 0!==t&&t.tournament){const t=e.payload.tournament;B(e=>e.map(e=>e.id===t.id?(0,a.A)((0,a.A)({},e),t):e))}}),()=>{D("tournament_paused"),D("tournament_resumed"),D("tournament_update")}),[y,D]);const K=e=>{try{return JSON.parse(e).name||"Unknown"}catch(t){return"Unknown"}},Q=e=>{switch(e){case"registering":return"info";case"starting":return"warning";case"in_progress":return"success";case"completed":default:return"default";case"cancelled":return"error"}};return V?(0,j.jsx)(M.e,{children:(0,j.jsx)(P.k,{fullScreen:!0,message:"Loading tournaments..."})}):(0,j.jsxs)(M.e,{children:[(0,j.jsxs)(s.A,{maxWidth:"lg",sx:{mt:4,pb:6},children:[(0,j.jsxs)(o.A,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)(o.A,{children:[(0,j.jsxs)(i.A,{variant:"h4",fontWeight:700,sx:{mb:1},children:[(0,j.jsx)(f.A,{sx:{mr:1,verticalAlign:"middle",fontSize:40}}),"Tournaments"]}),(0,j.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"Compete for glory and prizes"})]}),(0,j.jsx)(z.$,{startIcon:(0,j.jsx)(b,{}),onClick:()=>J(!0),size:"large",children:"Create Tournament"})]}),F.length>0?(0,j.jsx)(o.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:3},children:F.map(e=>(0,j.jsx)(o.A,{onClick:()=>E("/tournaments/".concat(e.id)),sx:{cursor:"pointer",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},children:(0,j.jsx)(N.Z,{variant:"glass",children:(0,j.jsxs)(l.A,{spacing:2,children:[(0,j.jsxs)(o.A,{children:[(0,j.jsx)(i.A,{variant:"h6",fontWeight:700,sx:{mb:1},children:e.name}),(0,j.jsxs)(l.A,{direction:"row",spacing:1,flexWrap:"wrap",sx:{mb:2},children:[(0,j.jsx)(R.E,{variant:Q(e.status),children:e.status.toUpperCase()}),(0,j.jsxs)(R.E,{variant:"info",size:"small",children:[e.current_players,"/",e.max_players," Players"]}),H.has(e.id)&&(0,j.jsx)(R.E,{variant:"success",size:"small",children:"REGISTERED"})]})]}),(0,j.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[(0,j.jsxs)(o.A,{children:[(0,j.jsx)(i.A,{variant:"caption",color:"text.secondary",children:"Buy-in"}),(0,j.jsxs)(i.A,{variant:"body1",fontWeight:600,children:["$",e.buy_in]})]}),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(i.A,{variant:"caption",color:"text.secondary",children:"Prize Pool"}),(0,j.jsxs)(i.A,{variant:"body1",fontWeight:600,color:G.lm.success.main,children:["$",e.prize_pool]})]}),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(i.A,{variant:"caption",color:"text.secondary",children:"Starting Chips"}),(0,j.jsx)(i.A,{variant:"body1",fontWeight:600,children:e.starting_chips})]}),(0,j.jsxs)(o.A,{children:[(0,j.jsx)(i.A,{variant:"caption",color:"text.secondary",children:"Structure"}),(0,j.jsx)(i.A,{variant:"body1",fontWeight:600,children:K(e.structure)})]})]}),(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1,pt:1},children:[(0,j.jsx)(i.A,{variant:"caption",color:"text.secondary",children:"Code:"}),(0,j.jsx)(i.A,{variant:"body2",fontWeight:600,sx:{fontFamily:"monospace"},children:e.tournament_code}),(0,j.jsx)(c.A,{size:"small",onClick:n=>{var a;n.stopPropagation(),a=e.tournament_code,navigator.clipboard.writeText(a),t("Tournament code copied to clipboard!")},sx:{ml:"auto"},children:(0,j.jsx)(S.A,{fontSize:"small"})})]})]})})},e.id))}):(0,j.jsx)(I.p,{icon:(0,j.jsx)(f.A,{sx:{fontSize:80}}),title:"No tournaments available",description:"Be the first to create a tournament!",action:(0,j.jsx)(z.$,{startIcon:(0,j.jsx)(b,{}),onClick:()=>J(!0),children:"Create Tournament"})})]}),(0,j.jsxs)(d.A,{open:Z,onClose:()=>J(!1),maxWidth:"sm",fullWidth:!0,children:[(0,j.jsx)(u.A,{children:(0,j.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Create Tournament",(0,j.jsx)(c.A,{onClick:()=>J(!1),children:(0,j.jsx)(C.A,{})})]})}),(0,j.jsx)(p.A,{children:(0,j.jsxs)(l.A,{spacing:3,sx:{mt:1},children:[(0,j.jsx)(m.A,{label:"Tournament Name",fullWidth:!0,value:X.name,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{name:e.target.value}))}),(0,j.jsx)(m.A,{label:"Buy-in (chips)",type:"number",fullWidth:!0,value:X.buy_in,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{buy_in:parseInt(e.target.value)}))}),(0,j.jsx)(m.A,{label:"Starting Chips",type:"number",fullWidth:!0,value:X.starting_chips,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{starting_chips:parseInt(e.target.value)}))}),(0,j.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[(0,j.jsx)(m.A,{label:"Min Players",type:"number",value:X.min_players,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{min_players:parseInt(e.target.value)}))}),(0,j.jsx)(m.A,{label:"Max Players",type:"number",value:X.max_players,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{max_players:parseInt(e.target.value)}))})]}),(0,j.jsxs)(h.A,{fullWidth:!0,children:[(0,j.jsx)(x.A,{children:"Blind Structure"}),(0,j.jsxs)(A.A,{value:X.structure,label:"Blind Structure",onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{structure:e.target.value})),children:[(0,j.jsx)(g.A,{value:"turbo",children:"Turbo (5 min levels)"}),(0,j.jsx)(g.A,{value:"standard",children:"Standard (10 min levels)"}),(0,j.jsx)(g.A,{value:"deep_stack",children:"Deep Stack (15 min levels)"}),(0,j.jsx)(g.A,{value:"hyper_turbo",children:"Hyper Turbo (3 min levels)"})]})]}),(0,j.jsxs)(h.A,{fullWidth:!0,children:[(0,j.jsx)(x.A,{children:"Prize Structure"}),(0,j.jsxs)(A.A,{value:X.prize_structure,label:"Prize Structure",onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{prize_structure:e.target.value})),children:[(0,j.jsx)(g.A,{value:"winner_takes_all",children:"Winner Takes All"}),(0,j.jsx)(g.A,{value:"top3",children:"Top 3 (50/30/20)"}),(0,j.jsx)(g.A,{value:"top5",children:"Top 5"}),(0,j.jsx)(g.A,{value:"top10",children:"Top 10"})]})]}),(0,j.jsx)(m.A,{label:"Auto-start Delay (seconds)",type:"number",fullWidth:!0,value:X.auto_start_delay,onChange:e=>Y((0,a.A)((0,a.A)({},X),{},{auto_start_delay:parseInt(e.target.value)})),helperText:"Time to wait after reaching minimum players before auto-starting"})]})}),(0,j.jsxs)(v.A,{sx:{px:3,pb:3},children:[(0,j.jsx)(z.$,{variant:"ghost",onClick:()=>J(!1),children:"Cancel"}),(0,j.jsx)(z.$,{onClick:async()=>{try{O(!0);const e=await _.kS.createTournament(X);t("Tournament created successfully!"),J(!1),q();const n=e.data;t("Tournament Code: ".concat(n.tournament_code," - Share this code with players!"))}catch(r){var e,a;n((null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Failed to create tournament")}finally{O(!1)}},disabled:$||!X.name,children:"Create"})]})]})]})}},9806:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(45),r=n(9379),s=n(5043),o=n(8387),i=n(6061),l=n(1807),c=n(3635),d=n(2335),u=n(883),p=n(9049),m=n(579);const h=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,p.A)(),A=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,c.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),g=e=>(0,d.A)({props:e,name:"MuiContainer",defaultTheme:x});var v=n(7194),f=n(8128),y=n(8301);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=A,useThemeProps:n=g,componentName:d="MuiContainer"}=e,u=t(e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const a=n,r=t.breakpoints.values[a];return 0!==r&&(e[t.breakpoints.up(a)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return(0,r.A)((0,r.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}}),n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),p=s.forwardRef(function(e,t){const s=n(e),{className:p,component:x="div",disableGutters:A=!1,fixed:g=!1,maxWidth:v="lg",classes:f}=s,y=(0,a.A)(s,h),j=(0,r.A)((0,r.A)({},s),{},{component:x,disableGutters:A,fixed:g,maxWidth:v}),b=((e,t)=>{const{classes:n,fixed:a,disableGutters:r,maxWidth:s}=e,o={root:["root",s&&"maxWidth".concat((0,c.A)(String(s))),a&&"fixed",r&&"disableGutters"]};return(0,l.A)(o,e=>(0,i.Ay)(t,e),n)})(j,d);return(0,m.jsx)(u,(0,r.A)({as:x,ownerState:j,className:(0,o.A)(b.root,p),ref:t},y))});return p}({createStyledComponent:(0,f.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,v.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.b)({props:e,name:"MuiContainer"})}),b=j},9817:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(9992),r=n(579);const s=(0,a.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")}}]);
//# sourceMappingURL=847.acbf3193.chunk.js.map